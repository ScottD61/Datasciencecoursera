{
    "contents" : "---\ntitle: \"Course Project 1 - Reproducible Research\"\nauthor: \"Scott C. Davis\"\ndate: \"March 6, 2016\"\noutput: pdf_document\n---\n###Task 1: Read in dataset and preprocess\n\nImport Data\n```{r}\nSensor <- read.csv('activity.csv')\n```\nConvert csv to dataframe\n```{r}\nSensor_activity <- data.frame(Sensor)\n```\nDatatypes\n```{r}\nstr(Sensor_activity)\n```\nSummary statistics\n```{r}\nsummary(Sensor_activity)\n```\n\n###Task 2: Histogram of total number of steps taken each day\nGroup by date and take total\n```{r}\nsteps_calc <- aggregate(Sensor_activity$steps, by = list(Sensor_activity$date), FUN = 'sum')\n```\nHistogram total steps per day\n```{r, echo=FALSE}\nhist(steps_calc$x, main = \"Histogram of total steps per day\", xlab = \"total steps\", \n     ylim = c(0,30), col = \"green\")\n```\n\n###Task 3: Mean and median number of steps taken each day\n```{r}\nsummary(steps_calc$x)\n```\n\n###Task 4: Time series plot of average number of steps taken\nGroup by interval and take average\n```{r}\nsteps_calc_avg <- aggregate(steps ~ interval, Sensor_activity, mean)\n```\nPlot of average steps per day\n```{r, echo=FALSE}\nplot(steps_calc_avg$interval, steps_calc_avg$steps, type = \"l\", main = \"Average activity patterns\",\n         xlab = \"Interval\", ylab = \"Steps\") \n```\n\n###Task 5 - Maximum number of steps in 5min interval across daily average\n```{r}\nsteps_calc_avg[which.max(steps_calc_avg$steps), 1]\n```\n\n###Task 6 - impute missing values\nNumber of missing values in steps variable\n```{r}\nsum(is.na(Sensor_activity$steps))\n```\n\nImputation of data using MICE package\n```{r}\nlibrary(mice)\n```\n\nApply MICE algorithm to NA dataset. \nI am setting the method parameter to predictive mean matching. \n```{r}\nimputed_sensor <- mice(Sensor_activity, m = 5, maxit = 50, method = \"pmm\", seed = 5)\n```\n\nGet completed dataset\n```{r}\ncompleteData <- complete(imputed_sensor, 4)\n```\n\n###Task 7 - histogram of total number of steps per day after imputation\nPlot histogram\n```{r}\nna_steps_calc <- aggregate(completeData$steps, by = list(completeData$date), FUN = 'sum')\n```\n\nHistogram total steps per day\n```{r, echo=FALSE}\nhist(na_steps_calc$x, main = \"Histogram of total steps per day\", xlab = \"total steps\", \n     ylim = c(0,30), col = \"green\")\n```\n\nMean and median of imputed dataset\n```{r}\nsummary(na_steps_calc$x)\n```\n\n###Step 8 - Compare average number of steps per interval across weekdays and weekends\n####Install timeDate package\n```{r}\nlibrary(timeDate)\n```\nCreate new column for weekday or weekend\n```{r}\ncompleteData$Weekday <- isWeekday(completeData$date)\n```\nAverage steps for weekday\n```{r}\nweekday <- subset(completeData, completeData$Weekday == \"TRUE\")\n```\n```{r}\nweekdayMean <- aggregate(steps ~ interval, data = weekday, mean)\n```\nAverage steps for weekend\n```{r}\nweekend <- subset(completeData, completeData$Weekday == \"FALSE\")\n```\n```{r}\nweekendMean <- aggregate(steps ~ interval, data = weekend, mean)\n```\n\nPlot of weekday\n```{r, echo=FALSE}\nplot(weekdayMean$interval, weekdayMean$steps,\n     xlab = \"interval\", ylab = \"Number of steps\",\n     main = \"Weekday\", col = \"blue\", type = \"l\") \n```\nPlot of weekend\n```{r, echo=FALSE}\nplot(weekendMean$interval, weekendMean$steps,\n     xlab = \"interval\", ylab = \"Number of steps\",\n     main = \"Weekend\", col = \"red\", type = \"l\")\n```\n",
    "created" : 1457303512698.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "3156267011",
    "id" : "9BB41089",
    "lastKnownWriteTime" : 1457307675,
    "path" : "~/datasciencecoursera/Project/Project1.Rmd",
    "project_path" : "Project1.Rmd",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "source_on_save" : false,
    "type" : "r_markdown"
}